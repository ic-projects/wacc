-- Test: fibonacciRecursive.wacc

-- Uploaded file: 
---------------------------------------------------------------
# recursive calculation of the first 20 fibonacci numbers

# Output:
# The first 20 fibonacci numbers are:
# 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181...

# Program:

begin
  int fibonacci(int n, bool toPrint) is
    if n <= 1
    then
      return n
    else
      skip
    fi ;
    int f1 = call fibonacci(n - 1, toPrint) ;
    if toPrint
    then
      print f1 ;
      print ", "
    else
      skip
    fi ;
    int f2 = call fibonacci(n - 2, false) ;
    return f1 + f2
  end

  println "The first 20 fibonacci numbers are:" ;
  print "0, " ;
  int result = call fibonacci(19, true) ;
  print result ;
  println "..."
end

---------------------------------------------------------------

-- Compiler Output:
-- Compiling...
-- Printing AST...
fibonacciRecursive.ast contents are:
===========================================================
0	Program
1	  - int fibonacci(int n, bool toPrint)
2	    - IF
3	      - CONDITION
4	        - <=
5	          - n
6	          - 1
7	      - THEN
8	        - RETURN
9	          - n
10	      - ELSE
11	        - SKIP
12	    - DECLARE
13	      - TYPE
14	        - int
15	      - LHS
16	        - f1
17	      - RHS
18	        - fibonacci
19	        - -
20	          - n
21	          - 1
22	        - toPrint
23	    - IF
24	      - CONDITION
25	        - toPrint
26	      - THEN
27	        - PRINT
28	          - f1
29	        - PRINT
30	          - ", "
31	      - ELSE
32	        - SKIP
33	    - DECLARE
34	      - TYPE
35	        - int
36	      - LHS
37	        - f2
38	      - RHS
39	        - fibonacci
40	        - -
41	          - n
42	          - 2
43	        - false
44	    - RETURN
45	      - +
46	        - f1
47	        - f2
48	  - int main()
49	    - PRINTLN
50	      - "The first 20 fibonacci numbers are:"
51	    - PRINT
52	      - "0, "
53	    - DECLARE
54	      - TYPE
55	        - int
56	      - LHS
57	        - result
58	      - RHS
59	        - fibonacci
60	        - 19
61	        - true
62	    - PRINT
63	      - result
64	    - PRINTLN
65	      - "..."
===========================================================
-- Finished

